<mvc:View 
	controllerName="com.sap.sapmentors.sitreg.events.controller.Detail" 
	xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc"
	xmlns:semantic="sap.m.semantic" 
	xmlns:f="sap.ui.layout.form"
	xmlns:footerbar="sap.ushell.ui.footerbar">
	<semantic:DetailPage id="page" navButtonPress="onNavBack" showNavButton="{device>/system/phone}" title="{i18n>detailTitle}"
		busy="{detailView>/busy}" busyIndicatorDelay="{detailView>/delay}">
		<semantic:content>
			<ObjectHeader id="objectHeader" title="{Location}" number="{
							path: 'EventDate',
							type: 'sap.ui.model.type.Date',
							formatOptions: {
								style: 'medium'
							}
						}">
			</ObjectHeader>
			<IconTabBar id="iconTabBar" class="sapUiResponsiveContentPadding">
				<items>
					<IconTabFilter id="iconTabBarFilter1" icon="sap-icon://hint" tooltip="{i18n>detailIconTabBarInfo}">
						<f:SimpleForm id="eventForm"
							editable="false"
							class="editableForm sapUiSmallMarginTopBottom">
							<f:content>
								<Label text="{i18n>StartTime}"/>
								<Text text="{ path: 'StartTime', type: 'sap.ui.model.odata.type.DateTime' }"/>
								<Label text="{i18n>EndTime}"/>
								<Text text="{ path: 'EndTime', type: 'sap.ui.model.odata.type.DateTime' }"/>
								<Label text="{i18n>MaxParticipants}"/>
								<Text text="{MaxParticipants}"/>
								<Label text="{i18n>HomepageURL}"/>
								<Link  href="{HomepageURL}" text="{HomepageURL}" target="_blank" />
								<Label text="{i18n>HistoryCreatedBy}"/>
								<Text text="{History.CreatedBy}"/>
								<Label text="{i18n>EventChangeable}"/>
								<Text text="{EventChangeable/Changeable}"/>
							</f:content>
						</f:SimpleForm>
					</IconTabFilter>
					<IconTabFilter 
						id="iconTabBarFilter2" 
						icon="sap-icon://employee-approvals" 
						tooltip="{i18n>detailIconTabBarCoOrganizers}">
						<Table id="idCoOrganizerTable"
							items="{
								path: 'CoOrganizers',
								sorter: {
									path: 'UserName'
								}
							}">
							<headerToolbar>
								<Toolbar>
									<Title text="{i18n>detailIconTabBarCoOrganizers}" level="H2"/>
								</Toolbar>
							</headerToolbar>
							<columns>
								<Column>
									<Text text="UserName" />
								</Column>
								<Column
									hAlign="Center"
									minScreenWidth="Tablet"
									demandPopin="true">
									<Text text="Active" />
								</Column>
							</columns>
							<items>
								<ColumnListItem>
									<cells>
										<ObjectIdentifier
											title="{UserName}" />
										<Switch 
											state="{= ${Active} === 'Y' ? true : false }" 
											customTextOn="Yes" 
											customTextOff="No"
											enabled="{= ${History.CreatedBy} === ${currentUser>/name} ? true : false }" />
									</cells>
								</ColumnListItem>
							</items>
						</Table>
					</IconTabFilter>
				</items>
			</IconTabBar>
		</semantic:content>
		<semantic:editAction>
			<semantic:EditAction 
				id="edit" 
				press="onEdit"
				enabled="{= ${EventChangeable/Changeable} === 1 ? true : false }" />
		</semantic:editAction>
		<!-- Delete is not allowed by the OData Service -->
		<!--
		<semantic:customFooterContent>
			<Button enabled="true" id="deleteButton" press="onDelete" text="Delete"/>
		</semantic:customFooterContent>
		-->
		<semantic:sendEmailAction>
			<semantic:SendEmailAction id="shareEmail" press="onShareEmailPress"/>
		</semantic:sendEmailAction>
		<semantic:shareInJamAction>
			<semantic:ShareInJamAction id="shareInJam" visible="{FLP>/isShareInJamActive}" press="onShareInJamPress"/>
		</semantic:shareInJamAction>
		<semantic:saveAsTileAction>
			<footerbar:AddBookmarkButton id="shareTile" title="{detailView>/saveAsTileTitle}"/>
		</semantic:saveAsTileAction>
	</semantic:DetailPage>
</mvc:View>